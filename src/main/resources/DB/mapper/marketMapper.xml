<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.food.project.market.MarcketDAO">
	
	<select id="marketList" resultType="MarketVO">
		select * from market
	</select>
	
	<select id="marketSelect" parameterType="MarketVO" resultType="MarketVO">
		select * from market where userNum = #{userNum}
	</select>
	
	<select id="marketCount" resultType="Long">
		select market_seq.nextval from dual
	</select>
	
	<insert id="marketInsert" parameterType="MarketVO">
		insert into market values(#{num},#{userNum},#{crn},#{marketName},#{openTime},#{closeTime},1,1,#{marketIntro},null,sysdate,sysdate,null)
	</insert>
	
	<update id="marketDelete" parameterType="MarketVO">
		update market set deleteAt = sysdate where userNum=#{userNum} 
	</update>
	
	<update id="marketUpdate" parameterType="MarketVO">
		update market set openTime=#{openTime},closeTime=#{closeTime},marketName=#{marketName},marketIntro=#{marketIntro},thumbImg=#{thumbImg} where num=#{num}
	</update>
	
	<update id="isOpen" parameterType="MarketVO">
		update market set isOpen=#{isOpen} where UserNum=#{userNum}
	</update>
	

</mapper>